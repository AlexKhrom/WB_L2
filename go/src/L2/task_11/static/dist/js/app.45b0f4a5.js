(function(e){function t(t){for(var n,r,o=t[0],c=t[1],l=t[2],d=0,v=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&v.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(v.length)v.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=s[0]))}return e}var n={},a={app:0},i=[];function r(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=n,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0b7a":function(e,t,s){"use strict";s("a1c2")},"126b":function(e,t,s){},"18b6":function(e,t,s){},4678:function(e,t,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=i(e);return s(t)}function i(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="4678"},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{staticStyle:{padding:"20px"}},[e.isNewEvent?[s("div",{staticClass:"picker",on:{click:function(t){e.isNewEvent=!1}}},[s("div",{staticClass:"picker__content",on:{click:function(e){e.stopPropagation()}}},[e._t("default",(function(){return[s("v-date-picker",{attrs:{min:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),"header-color":"black primary"},model:{value:e.picker,callback:function(t){e.picker=t},expression:"picker"}}),s("v-text-field",{staticStyle:{"margin-top":"30px"},attrs:{solo:"",label:"title"},model:{value:e.eventTitle,callback:function(t){e.eventTitle=t},expression:"eventTitle"}}),s("v-btn",{staticStyle:{width:"100%"},attrs:{depressed:"",color:"primary"},on:{click:e.creatEvent}},[e._v(" creat ")])]}))],2)])]:e._e(),s("div",{staticStyle:{width:"270px",margin:"auto","margin-top":"30px"}},[e._t("default",(function(){return[e.isNewEvent?e._e():s("v-btn",{staticStyle:{width:"100%"},attrs:{color:"primary"},on:{click:function(t){e.isNewEvent=!0}}},[e._v(" new event ")]),s("v-btn",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{color:"primary"},on:{click:function(t){return e.getEventsDay()}}},[e._v(" events for day ")]),s("v-btn",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{color:"primary"},on:{click:function(t){return e.getEventsWeek()}}},[e._v(" events for week ")]),s("v-btn",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{color:"primary"},on:{click:function(t){return e.getEventsMonth()}}},[e._v(" events for month ")])]}))],2),s("div",{staticStyle:{width:"350px",margin:"auto","margin-top":"50px"}},[s("h1",[e._v(e._s(e.duration))]),e._l(this.events,(function(t){return s("div",{key:t.id},[s("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-top":"20px",padding:"5px"}},[s("div",[s("div",{staticStyle:{"font-size":"18px","text-transform":"capitalize",display:"flex","align-items":"center"},style:t.deleted?"opacity: 0.5":""},[e._v(e._s(t.title)+" ")])]),s("div",[s("span",{staticStyle:{color:"#555","font-size":"18px"}},[e._v(e._s(new Date(t.date-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)))]),s("v-btn",{attrs:{icon:""},on:{click:function(s){return e.changeEvent(t)}}},[e._v("✏️")]),s("v-btn",{attrs:{icon:""},on:{click:function(s){return e.deleteEvent(t)}}},[e._v("🗑")])],1)])])}))],2),[s("v-row",{attrs:{justify:"center"}},[s("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.isDeleteEvent,callback:function(t){e.isDeleteEvent=t},expression:"isDeleteEvent"}},[s("v-card",[s("v-card-title",{staticClass:"text-h5"},[e._v(" Delete "+e._s(e.deleteEventObj.title)+" ? ")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){e.isDeleteEvent=!1}}},[e._v(" No ")]),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.deleteEventWithId()}}},[e._v(" Yes ")])],1)],1)],1)],1)],e.isChangeEvent?[s("div",{staticClass:"picker",on:{click:function(t){e.isChangeEvent=!1}}},[s("div",{staticClass:"picker__content",on:{click:function(e){e.stopPropagation()}}},[e._t("default",(function(){return[s("v-date-picker",{attrs:{"header-color":"black primary"},model:{value:e.changePicker,callback:function(t){e.changePicker=t},expression:"changePicker"}}),s("v-text-field",{staticStyle:{"margin-top":"30px"},attrs:{solo:"",label:"title"},model:{value:e.changeEventObj.title,callback:function(t){e.$set(e.changeEventObj,"title",t)},expression:"changeEventObj.title"}}),s("v-btn",{staticStyle:{width:"100%"},attrs:{depressed:"",color:"primary"},on:{click:function(t){return e.saveChangeEvent()}}},[e._v(" save ")])]}))],2)])]:e._e()],2)},i=[],r=s("c7eb"),o=s("1da1"),c=(s("e323"),s("accc"),s("0d03"),s("6eba"),s("e9c4"),s("4795"),s("4e827"),s("d3b7"),{name:"App",metaInfo:{title:"tasks"},data:function(){return{duration:"",picker:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),isNewEvent:!1,eventTitle:"",newEvent:{userId:0,title:"",date:-1},isChangeEvent:!1,changeEventId:-1,changeEventObj:{},changePicker:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),isDeleteEvent:!1,deleteEventId:-1,deleteEventObj:{},events:[],lastCommand:function(){}}},methods:{creatEvent:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isNewEvent=!e.isNewEvent,e.newEvent.userId=0,e.newEvent.title=e.eventTitle,e.newEvent.date=new Date(e.picker).getTime(),console.log("newTask = ",e.newEvent),console.log(e.newEvent.date),console.log(e.picker),e.eventTitle="",e.picker=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),e.makeReq("/api/createEvent","POST",JSON.stringify(e.newEvent)),e.newEvent={userId:0,title:"",date:-1},setTimeout(e.lastCommand,100);case 12:case"end":return t.stop()}}),t)})))()},getEventsDay:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var s,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.makeReq("/api/events_for_day?user_id="+e.newEvent.userId+"&date="+new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),"GET");case 2:return s=t.sent,t.next=5,s.json();case 5:n=t.sent,console.log("resp body = ",n),e.events=n,e.events.sort(e.compare),e.lastCommand=e.getEventsDay,e.duration="Events for day";case 11:case"end":return t.stop()}}),t)})))()},getEventsWeek:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var s,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.makeReq("/api/events_for_week?user_id="+e.newEvent.userId+"&date="+new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),"GET");case 2:return s=t.sent,t.next=5,s.json();case 5:n=t.sent,console.log("resp body = ",n),e.events=n,e.events.sort(e.compare),e.lastCommand=e.getEventsWeek,e.duration="Events for week";case 11:case"end":return t.stop()}}),t)})))()},getEventsMonth:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var s,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.makeReq("/api/events_for_month?user_id="+e.newEvent.userId+"&date="+new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),"GET");case 2:return s=t.sent,t.next=5,s.json();case 5:n=t.sent,console.log("resp body = ",n),e.events=n,e.events.sort(e.compare),e.lastCommand=e.getEventsMonth,e.duration="Events for month";case 11:case"end":return t.stop()}}),t)})))()},changeEvent:function(e){this.changeEventObj=e,this.isChangeEvent=!0,this.changePicker=new Date(e.date-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},saveChangeEvent:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.changeEventObj.date=new Date(e.changePicker).getTime(),e.makeReq("/api/updateEvent","UPDATE",JSON.stringify(e.changeEventObj)),e.isChangeEvent=!1,setTimeout(e.lastCommand,100),e.changeEventObj={};case 5:case"end":return t.stop()}}),t)})))()},deleteEvent:function(e){this.deleteEventObj=e,this.isDeleteEvent=!0,this.lastCommand()},deleteEventWithId:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.makeReq("/api/deleteEvent","DELETE",JSON.stringify(e.deleteEventObj)),setTimeout(e.lastCommand,100),e.deleteEventObj={},e.isDeleteEvent=!1;case 4:case"end":return t.stop()}}),t)})))()},makeReq:function(e,t,s){return Object(o["a"])(Object(r["a"])().mark((function n(){var a;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(void 0!==s){n.next=6;break}return n.next=3,fetch(e,{method:t});case 3:a=n.sent,n.next=9;break;case 6:return n.next=8,fetch(e,{method:t,body:s});case 8:a=n.sent;case 9:if(!a.ok){n.next=14;break}return console.log("okkkk"),n.abrupt("return",a);case 14:if(!(a.status>299&&a.status<500)){n.next=19;break}return console.log("err"),n.abrupt("return","err");case 19:if(!(a.status>500)){n.next=22;break}return console.log("some wrong on backend"),n.abrupt("return","backend err");case 22:case"end":return n.stop()}}),n)})))()},compare:function(e,t){return e.date<t.date?-1:e.date>t.date?1:0}},beforeMount:function(){this.getEventsDay()}}),l=c,u=(s("7548"),s("2877")),d=s("6544"),v=s.n(d),f=s("7496"),h=s("8336"),p=s("b0af"),m=s("99d9"),g=s("2e4b"),k=s("169a"),b=s("0fd9"),w=s("2fa4"),x=s("8654"),y=Object(u["a"])(l,a,i,!1,null,"2ae1f027",null),E=y.exports;v()(y,{VApp:f["a"],VBtn:h["a"],VCard:p["a"],VCardActions:m["a"],VCardTitle:m["b"],VDatePicker:g["a"],VDialog:k["a"],VRow:b["a"],VSpacer:w["a"],VTextField:x["a"]});var T=s("3835"),j=(s("4de4"),s("2f62"));n["a"].use(j["a"]);var S={titles:JSON.parse(localStorage.getItem("titles")||"[]").filter((function(e){return!e.deleted})),events:JSON.parse(localStorage.getItem("events")||"[]").filter((function(e){return!e.deleted})),tasks:JSON.parse(localStorage.getItem("tasks")||"[]").filter((function(e){return!e.deleted})),user:{login:"",email:"",password:""},makeReq:function(e,t,s){return Object(o["a"])(Object(r["a"])().mark((function n(){var a;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(void 0!==s){n.next=6;break}return n.next=3,fetch(e,{method:t});case 3:a=n.sent,n.next=9;break;case 6:return n.next=8,fetch(e,{method:t,body:s});case 8:a=n.sent;case 9:if(!a.ok){n.next=14;break}return console.log("okkkk"),n.abrupt("return",a);case 14:if(!(a.status>299&&a.status<500)){n.next=19;break}return console.log("err"),n.abrupt("return","err");case 19:if(!(a.status>500)){n.next=22;break}return console.log("some wrong on backend"),n.abrupt("return","backend err");case 22:case"end":return n.stop()}}),n)})))()}},O={set:function(e,t){var s=Object(T["a"])(t,2),n=s[0],a=s[1];e[n]=a}},D=new j["a"].Store({state:S,mutations:O}),_=s("0086"),$=s.n(_),I=s("f309");n["a"].use(I["a"]);var C=new I["a"]({theme:{themes:{light:{primary:"#000000"}}}}),P=s("c1df"),M=s.n(P),N=s("8c4f"),R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"form",staticClass:"form",style:"margin-top:"+e.marginTop(),attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{size:"30px",rules:e.emailRules,label:"email",required:"",solo:""},model:{value:e.$store.state.user.email,callback:function(t){e.$set(e.$store.state.user,"email",t)},expression:"$store.state.user.email"}}),s("v-text-field",{attrs:{rules:e.passwordRules,label:"Password","append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password",required:"",solo:""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.$store.state.user.password,callback:function(t){e.$set(e.$store.state.user,"password",t)},expression:"$store.state.user.password"}}),s("v-btn",{staticClass:"my-2",staticStyle:{height:"40px",width:"100px"},attrs:{disabled:!e.valid,color:"primary"},on:{click:e.validate}},[e._v(" Login ")]),s("v-btn",{staticClass:"my-2",staticStyle:{height:"40px","margin-left":"10px"},on:{click:function(t){e.$router.push("/signUp"),e.email="",e.login="",e.password=""}}},[e._v(" Sign up ")])],1),"signUpIsOk"===e.page?s("v-form",[s("div",{staticClass:"text-h2",staticStyle:{color:"limegreen"}},[e._v("login is successful")])]):e._e(),"wrong"===e.page?s("v-form",[s("div",{staticClass:"text-h2",staticStyle:{color:"red"}},[e._v("Wrong login or password")])]):e._e()],1)},V=[],z=(s("ac1f"),s("00b4"),s("4d63"),s("c607"),s("2c3e"),s("25f0"),s("5319"),s("1276"),{data:function(){return{page:"login",valid:!0,show:!1,login:"",email:"",code:"",loginRules:[function(e){return!!e||"Login is required"},function(e){return e&&e.length<=6||"Login must be less than 4 characters"}],password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length<=10||"Password must be less than 10 characters"}],codeRules:[function(e){return!!e||"code is required"},function(e){return e&&4===e.length||"code must be 4 characters"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},methods:{validate:function(){this.$refs.form.validate(),this.loginReq({email:this.$store.state.user.email,password:this.$store.state.user.password})},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()},marginTop:function(){var e=new RegExp("Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini","i");return e.test(navigator.userAgent)?"100px":"40px"},loginReq:function(e){var t=this;return Object(o["a"])(Object(r["a"])().mark((function s(){var n;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log("make request :",e),s.next=3,fetch("/api/login",{method:"POST",body:JSON.stringify(e)});case 3:n=s.sent,n.ok?(console.log("response = ",n),t.page="signUpIsOk",setTimeout(t.changePage,1500),console.log("okkkk"),console.log("resp = ",n.status)):n.status>299&&n.status<500?(console.log("resp = ",n.status),t.page="wrong"):n.status>500&&console.log("some wrong on backend");case 5:case"end":return s.stop()}}),s)})))()},changePage:function(){window.location.replace("/")},getCookie:function(e){var t="; ".concat(document.cookie),s=t.split("; ".concat(e,"="));if(2===s.length)return s.pop().split(";").shift()}}}),q=z,A=(s("cb8c"),s("4bd4")),U=Object(u["a"])(q,R,V,!1,null,"57be4f04",null),H=U.exports;v()(U,{VBtn:h["a"],VForm:A["a"],VTextField:x["a"]});var J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["signUp"===e.page?s("v-form",{ref:"form",staticClass:"form",style:"margin-top:"+e.marginTop(),attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{size:"30px",rules:e.emailRules,label:"E-mail",required:"",solo:""},on:{input:function(t){e.errowMes=""}},model:{value:e.$store.state.user.email,callback:function(t){e.$set(e.$store.state.user,"email",t)},expression:"$store.state.user.email"}}),s("v-text-field",{attrs:{size:"30px",rules:e.loginRules,label:"Login",required:"",solo:""},on:{input:function(t){e.errowMes=""}},model:{value:e.$store.state.user.login,callback:function(t){e.$set(e.$store.state.user,"login",t)},expression:"$store.state.user.login"}}),s("v-text-field",{attrs:{rules:e.passwordRules,label:"Password","append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password",solo:""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.$store.state.user.password,callback:function(t){e.$set(e.$store.state.user,"password",t)},expression:"$store.state.user.password"}}),s("v-btn",{staticClass:"my-2",staticStyle:{height:"40px"},attrs:{color:"primary",disabled:!e.valid},on:{click:e.signUp}},[e._v(" Sign up ")])],1):e._e(),"code"===e.page?s("Code",{on:{changePage:e.changePage}}):e._e(),"errorLogin"===e.errowMes?s("v-form",[s("div",{staticClass:"text-h6",staticStyle:{color:"limegreen"}},[e._v("This login is already exist")])]):e._e(),"errorEmail"===e.errowMes?s("v-form",[s("div",{staticClass:"text-h6",staticStyle:{color:"red"}},[e._v("This Email is already exist")])]):e._e()],1)},F=[],B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"form",staticClass:"form",style:"margin-top:"+e.marginTop(),attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("h2",{staticStyle:{"margin-bottom":"20px"}},[e._v("Check your email for code")]),s("v-row",{staticStyle:{"margin-bottom":"0"}},[s("v-btn",{attrs:{color:"grey",plain:""},on:{click:function(t){return e.changePage("signUp")}}},[e._v(" change email ")])],1),s("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"}],staticStyle:{width:"150px"},attrs:{rules:e.codeRules,label:"X-X-X-X",solo:""},on:{input:e.checkCode},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),s("v-btn",{staticStyle:{height:"40px"},attrs:{color:"primary"},on:{click:e.signUp}},[e._v(" reset code ")])],1),"signUpIsOk"===e.page?s("v-form",[s("div",{staticClass:"text-h2",staticStyle:{color:"limegreen"}},[e._v("sign up is successful")])]):e._e(),"wrong"===e.page?s("v-form",[s("div",{staticClass:"text-h2",staticStyle:{color:"red"}},[e._v("bad code")])]):e._e()],1)},W=[],L={name:"code",data:function(){return{wasReq:!1,valid:!0,show:!1,page:"",code:"",loginRules:[function(e){return!!e||"Login is required"},function(e){return e&&e.length<=6||"Login must be less than 4 characters"}],password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length<=10||"Password must be less than 10 characters"}],codeRules:[function(e){return!!e||"code is required"},function(e){return e&&4===e.length||"code must be 4 characters"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},methods:{checkCode:function(){4!==this.code.length||this.wasReq?this.wasReq=!1:(this.checkCodeReq({token:this.getCookie("codeId"),code:this.code}),this.wasReq=!0,console.log("code = 4"))},signUp:function(){this.$refs.form.validate(),this.signUpReq({email:this.$store.state.user.email,login:this.$store.state.user.login,password:this.$store.state.user.password})},changePage:function(){console.log("replace!!"),window.location.replace("/")},signUpReq:function(e){return Object(o["a"])(Object(r["a"])().mark((function t(){var s;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("make request :",e),t.next=3,fetch("/api/signUp",{method:"POST",body:JSON.stringify(e)});case 3:s=t.sent,s.ok?(console.log("response = ",s),console.log("okkkk")):console.log("not ok");case 5:case"end":return t.stop()}}),t)})))()},checkCodeReq:function(e){var t=this;return Object(o["a"])(Object(r["a"])().mark((function s(){var n;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log("make request :",e),s.next=3,fetch("/api/checkCode",{method:"POST",body:JSON.stringify(e)});case 3:n=s.sent,n.ok?(console.log("response = ",n),console.log("okkkk"),t.page="signUpIsOk",console.log("this.page = 'signUpIsOk'"),setTimeout(t.changePage,1500)):(t.page="wrong",console.log("not ok"));case 5:case"end":return s.stop()}}),s)})))()},marginTop:function(){var e=new RegExp("Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini","i");return e.test(navigator.userAgent)?"100px":"40px"},getCookie:function(e){var t="; ".concat(document.cookie),s=t.split("; ".concat(e,"="));if(2===s.length)return s.pop().split(";").shift()}}},G=L,Y=Object(u["a"])(G,B,W,!1,null,"92d6ab28",null),X=Y.exports;v()(Y,{VBtn:h["a"],VForm:A["a"],VRow:b["a"],VTextField:x["a"]});var K={name:"signUp",components:{Code:X},data:function(){return{valid:!0,show:!1,page:"signUp",errowMes:"",login:"",email:"",code:"",loginRules:[function(e){return!!e||"Login is required"},function(e){return e&&e.length<=6||"Login must be less than 4 characters"}],password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length<=10||"Password must be less than 10 characters"}],codeRules:[function(e){return!!e||"code is required"},function(e){return e&&4===e.length||"code must be 4 characters"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},methods:{changePage:function(e){console.log("chenge page = ",e),this.page=e},marginTop:function(){var e=new RegExp("Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini","i");return e.test(navigator.userAgent)?"100px":"40px"},signUp:function(){this.$refs.form.validate(),this.signUpReq({email:this.$store.state.user.email,login:this.$store.state.user.login,password:this.$store.state.user.password}),this.page="code"},signUpReq:function(e){var t=this;return Object(o["a"])(Object(r["a"])().mark((function s(){var n;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log("make request :",e),s.next=3,fetch("/api/signUp",{method:"POST",body:JSON.stringify(e)});case 3:n=s.sent,n.ok?(console.log("response = ",n),console.log("okkkk")):(425===n.status?t.errowMes="errorEmail":426===n.status&&(t.errowMes="errorLogin"),console.log("not ok"));case 5:case"end":return s.stop()}}),s)})))()}}},Q=K,Z=Object(u["a"])(Q,J,F,!1,null,"0d0b5c3a",null),ee=Z.exports;v()(Z,{VBtn:h["a"],VForm:A["a"],VTextField:x["a"]});var te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{staticStyle:{padding:"20px"}},[s("div",{staticClass:"content"},[s("AddEvent")],1)])},se=[],ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{height:"100%"}},[s("div",{staticStyle:{display:"grid","grid-template-columns":"repeat(2, 1fr)",gap:"20px"}},e._l(e.$store.state.titles,(function(t,n){return s("div",{key:t.title},[s("v-btn",{staticStyle:{height:"100px",width:"100%"},on:{touchstart:function(t){return e.deleteTitleDown("touch")},mousedown:function(t){return e.deleteTitleDown("click")},touchend:function(s){return e.deleteTitleUp(t,n,"touch")},mouseup:function(s){return e.deleteTitleUp(t,n,"click")}}},[e._v(" "+e._s(t.title)+" ")])],1)})),0),s("div",{staticStyle:{"margin-top":"20px",display:"flex","justify-content":"center","text-align":"center"}},[s("v-text-field",{staticStyle:{margin:"20px 20px 20px 0"},attrs:{label:"🥴 новое событие",solo:""},on:{cancel:e.createTitle},model:{value:e.newEvent,callback:function(t){e.newEvent=t},expression:"newEvent"}}),s("v-checkbox",{staticStyle:{"padding-top":"15px","min-width":"130px"},attrs:{label:"with duration"},model:{value:e.isEventWithDuration,callback:function(t){e.isEventWithDuration=t},expression:"isEventWithDuration"}})],1),s("v-btn",{staticStyle:{"margin-top":"-30px",width:"100%",height:"50px"},attrs:{color:"primary"},on:{click:e.createTitle}},[e._v("add")]),s("v-btn",{staticStyle:{"margin-top":"20px",width:"100%",height:"50px"},attrs:{color:"primary"},on:{click:this.openNewTask}},[e._v("new task ")]),e.isNewTask?[s("div",{staticClass:"picker",on:{click:function(t){e.isNewTask=!1}}},[s("div",{staticClass:"picker__content",on:{click:function(e){e.stopPropagation()}}},[e._t("default",(function(){return[s("CreatTask",{on:{isNewTaskChange:e.changeIsNewTask}})]}))],2)])]:e._e(),e.isPickEventDuration?[s("div",{staticClass:"picker",on:{click:function(t){e.isPickEventDuration=!1}}},[s("div",{staticClass:"picker__content",on:{click:function(e){e.stopPropagation()}}},[e._t("default",(function(){return[s("div",[s("h1",[e._v("Plan your event:")]),s("v-row",{attrs:{justify:"space-around",align:"center"}},[s("v-col",{staticStyle:{width:"350px",flex:"0 1 auto"}},[s("h2",[e._v("Start:")]),s("v-time-picker",{attrs:{format:"24hr",max:e.endEventTime},model:{value:e.startEventTime,callback:function(t){e.startEventTime=t},expression:"startEventTime"}})],1),s("v-col",{staticStyle:{width:"350px",flex:"0 1 auto"}},[s("h2",[e._v("End:")]),s("v-time-picker",{attrs:{format:"24hr",min:e.startEventTime},model:{value:e.endEventTime,callback:function(t){e.endEventTime=t},expression:"endEventTime"}}),s("v-btn",{staticClass:"mb-2",staticStyle:{"margin-top":"30px"},attrs:{width:"290px",height:"50px",color:"white"},on:{click:e.addEventWithDuration}},[e._v("save ")])],1)],1)],1)]}))],2)])]:e._e(),[s("v-row",{attrs:{justify:"center"}},[s("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"text-h5"},[e._v(" Delete "+e._s(e.titleToDelete.title)+" ? ")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" No ")]),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1,e.deleteTitleWithIndex(e.titleIndex)}}},[e._v(" Yes ")])],1)],1)],1)],1)],s("Footer")],2)},ae=[],ie=(s("a15b"),s("a434"),s("d401"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v("Creat your task:")]),[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6"}},[s("v-date-picker",{attrs:{range:"",color:"black lighten-1"},model:{value:e.datesTask,callback:function(t){e.datesTask=t},expression:"datesTask"}})],1),s("v-col",{attrs:{cols:"12",sm:"6"}},[s("v-text-field",{staticStyle:{"background-color":"white",padding:"20px 20px 0 20px","border-radius":"3px"},attrs:{label:"Date range","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.dateRangeText,callback:function(t){e.dateRangeText=t},expression:"dateRangeText"}})],1)],1)],s("v-text-field",{staticStyle:{"margin-top":"20px"},attrs:{label:"😳 to do ...",solo:""},model:{value:e.taskTitle,callback:function(t){e.taskTitle=t},expression:"taskTitle"}}),s("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-row",["time"===e.typeOfTaskSelect?[s("v-flex",{staticStyle:{"margin-top":"-10px"},attrs:{xs4:""}},[s("v-text-field",{attrs:{label:"hours",solo:"",rules:e.codeRules},model:{value:e.taskHours,callback:function(t){e.taskHours=t},expression:"taskHours"}})],1),s("v-flex",{staticStyle:{"margin-top":"-10px"},attrs:{xs4:""}},[s("v-text-field",{attrs:{label:"minutes",solo:""},model:{value:e.taskMinutes,callback:function(t){e.taskMinutes=t},expression:"taskMinutes"}})],1)]:e._e(),"my type"===e.typeOfTaskSelect?[s("v-flex",{staticStyle:{"margin-top":"-10px"},attrs:{xs4:""}},[s("v-text-field",{attrs:{label:"count",solo:"",rules:e.codeRules},model:{value:e.taskCount,callback:function(t){e.taskCount=t},expression:"taskCount"}})],1),s("v-flex",{staticStyle:{"margin-top":"-10px"},attrs:{xs4:""}},[s("v-text-field",{attrs:{label:"type",solo:"",rules:e.codeRules},model:{value:e.taskMyType,callback:function(t){e.taskMyType=t},expression:"taskMyType"}})],1)]:e._e(),s("v-flex",{attrs:{xs4:""}},[s("v-select",{staticStyle:{"margin-top":"-10px"},attrs:{items:e.items,label:"time",solo:""},model:{value:e.typeOfTaskSelect,callback:function(t){e.typeOfTaskSelect=t},expression:"typeOfTaskSelect"}})],1)],2)],1)],1),s("v-btn",{staticStyle:{margin:"-10px 0 50px",width:"100%",height:"40px"},attrs:{color:"white"},on:{click:e.creatTask}},[e._v("creat")])],2)}),re=[],oe=(s("e25e"),{name:"creatTask",data:function(){return{isNewTask:!1,datesTask:["2019-09-10","2019-09-20"],taskTitle:"",items:["time","my type"],typeOfTaskSelect:"time",taskHours:"",taskMinutes:"",taskCount:"",taskMyType:"",codeRules:[function(e){return!!e||"code is required"},function(e){return e&&e.length<=20||"code must be 4 characters"}]}},computed:{dateRangeText:function(){return this.datesTask.join(" ~ ")}},methods:{creatTask:function(){var e=0,t="";if("time"===this.typeOfTaskSelect){if(isNaN(parseInt(this.taskHours)))return void alert("hours should be integer");if(isNaN(parseInt(this.taskMinutes)))return void alert("minutes should be integer");e=60*(60*parseInt(this.taskHours)+parseInt(this.taskMinutes)),t="time"}else{if(isNaN(parseInt(this.taskCount)))return void alert("count should be integer");e=parseInt(this.taskCount),t=this.taskMyType}if(this.makeDate(this.datesTask[0]).getTime()/1e3>this.makeDate(this.datesTask[1]).getTime()/1e3){var s=this.datesTask[0];this.datesTask[0]=this.datesTask[1],this.datesTask[1]=s}var n={timeStart:this.makeDate(this.datesTask[0],this.makeHoursAndMinutesStr(new Date)).getTime()/1e3,timeEnd:this.makeDate(this.datesTask[1],this.makeHoursAndMinutesStr(new Date)).getTime()/1e3,title:this.taskTitle,target:e,num:0,type:t};this.$store.state.tasks.push(n),localStorage.setItem("tasks",JSON.stringify(this.$store.state.tasks)),this.$store.state.makeReq("/api/newTask","POST",JSON.stringify(n)),console.log(n),this.$emit("isNewTaskChange",!1)},makeHoursAndMinutesStr:function(e){var t=e.getHours(),s=e.getMinutes();return t=1===t.toString().length?"0"+t:t,s=1===s.toString().length?"0"+s:s,t+":"+s},makeDate:function(e,t,s,n){return e=void 0===e?"":e,t=void 0===t?"":"T"+t,void 0!==s&&(s=1===s.toString().length?"0"+s:s),s=void 0===s?"":":"+s,n=void 0===n?"":"."+n,console.log("make Date = ",e+t+s+n),new Date(e+t+s+n)},getCurrentWeek:function(){var e=(new Date).getDay()-1;-1===e&&(e=6);var t=new Date((new Date).getTime()-1e3*e*60*60*24),s=new Date(t.getTime()+5184e5),n=t.getUTCMonth()+1,a=s.getUTCMonth()+1;n=1===n.toString().length?"0"+n:""+n,1===a.toString().length?a="0"+a:n=""+a;var i=t.getUTCDate(),r=s.getUTCDate();i=1===i.toString().length?"0"+i:""+i,r=1===r.toString().length?"0"+r:""+r;var o=t.getFullYear()+"-"+n+"-"+i,c=s.getFullYear()+"-"+a+"-"+r;console.log(o),console.log(c),console.log(new Date(o)),console.log(new Date(c)),this.datesTask=[o,c]}},beforeMount:function(){this.getCurrentWeek()}}),ce=oe,le=s("62ad"),ue=s("a523"),de=s("0e8f"),ve=s("a722"),fe=s("b974"),he=Object(u["a"])(ce,ie,re,!1,null,"4ea5d9a6",null),pe=he.exports;v()(he,{VBtn:h["a"],VCol:le["a"],VContainer:ue["a"],VDatePicker:g["a"],VFlex:de["a"],VLayout:ve["a"],VRow:b["a"],VSelect:fe["a"],VTextField:x["a"]});var me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-footer",{staticClass:"footer",staticStyle:{"border-radius":"4px"},attrs:{color:"primary lighten-1",padless:""}},[s("v-row",{staticStyle:{"border-radius":"5px"},attrs:{justify:"center","no-gutters":""}},[s("v-btn",{staticClass:"my-2",staticStyle:{display:"flex","margin-right":"50px"},attrs:{color:"white",text:"",rounded:""},on:{click:function(t){return e.$router.push("/add")}}},[e._v("Add Event ")]),s("v-btn",{staticClass:"my-2",attrs:{color:"white",text:"",rounded:""},on:{click:function(t){return e.$router.push("/events")}}},[e._v("Show all ")])],1)],1)},ge=[],ke={name:"Footer",methods:{calcTop:function(){return console.log(document.documentElement.clientHeight),document.documentElement.clientHeight-50}},mounted:function(){this.calcTop()}},be=ke,we=(s("de97"),s("553a")),xe=Object(u["a"])(be,me,ge,!1,null,"3f986c9a",null),ye=xe.exports;v()(xe,{VBtn:h["a"],VFooter:we["a"],VRow:b["a"]});var Ee={components:{Footer:ye,CreatTask:pe},name:"addEvent",data:function(){return{timePicker:"",selectedEventIndex:-1,newEventToAdd:{},newEvent:"",timerDeleteTitle:!1,timerId:0,dialog:!1,titleToDelete:{},titleIndex:0,titleToDeleteID:-1,isNewTask:!1,startEventTime:null,endEventTime:null,isPickEventDuration:!1,isEventWithDuration:!1,datePicker:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}},computed:{dateRangeText:function(){return this.datesTask.join(" ~ ")}},methods:{sortEvents:function(){this.$store.state.events.sort((function(e,t){return e.dt<t.dt?1:-1}))},makeRequest:function(e){return Object(o["a"])(Object(r["a"])().mark((function t(){var s;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("make request :",e),t.next=3,fetch("/api/newEvent",{method:"POST",body:JSON.stringify(e)});case 3:s=t.sent,s.ok?console.log("okkkk"):console.log("not ok");case 5:case"end":return t.stop()}}),t)})))()},addEvent:function(e,t,s){if(console.log("hi addevent. title -",e.title,"\nclick on : ",s),e.withDuration)this.isPickEventDuration=!0,this.startEventTime=this.makeHoursAndMinutesStr(new Date),this.endEventTime=this.makeHoursAndMinutesStr(new Date),this.newEventToAdd={title:e.title,dt:Date.now(),withDuration:e.withDuration};else{var n={title:e.title,dt:Date.now(),withDuration:e.withDuration};this.$store.state.events.push(n),this.makeRequest(n),this.sortEvents(),localStorage.setItem("events",JSON.stringify(this.$store.state.events)),this.page="list"}this.$store.state.titles.splice(t,1),this.$store.state.titles.unshift(e),localStorage.setItem("titles",JSON.stringify(this.$store.state.titles))},addEventWithDuration:function(){var e=new Date;e.setHours(0,0,0,0);var t=e.getMonth().toString().length<2?"0"+(e.getMonth()+1):e.getMonth()+1,s=e.getDate().toString().length<2?"0"+e.getDate():e.getDate();console.log("make start date:",this.makeDate(e.getFullYear()+"-"+t+"-"+s,this.startEventTime,(new Date).getSeconds(),(new Date).getMilliseconds()).getTime());var n={title:this.newEventToAdd.title,dt:this.makeDate(e.getFullYear()+"-"+t+"-"+s,this.startEventTime,(new Date).getSeconds(),(new Date).getMilliseconds()).getTime(),timeStart:this.makeDate(e.getFullYear()+"-"+t+"-"+s,this.startEventTime).getTime(),timeEnd:this.makeDate(e.getFullYear()+"-"+t+"-"+s,this.endEventTime).getTime(),withDuration:this.newEventToAdd.withDuration};console.log("event = ",n),this.$store.state.events.push(n),this.makeRequest(n),console.log(this.$store.state.events),this.startEventTime=null,this.endEventTime=null,this.sortEvents(),localStorage.setItem("events",JSON.stringify(this.$store.state.events)),this.isPickEventDuration=!1,this.page="list"},findIndexEvents:function(e){for(var t=0;t<this.$store.state.events.length;t++)if(this.$store.state.events[t].dt===e)return t;return-1},deleteTitleDown:function(e){"click"===e&&("ontouchstart"in window||navigator.msMaxTouchPoints)||(this.timerId=setTimeout(this.handlerFunc,500))},handlerFunc:function(){this.timerDeleteTitle=!0,console.log("hi")},deleteTitleUp:function(e,t,s){"click"===s&&("ontouchstart"in window||navigator.msMaxTouchPoints)||(this.timerDeleteTitle?(console.log(e,t),this.titleIndex=t,this.titleToDeleteID=e.id,this.titleToDelete=e,this.dialog=!0):this.addEvent(e,t,s),this.timerDeleteTitle=!1,clearTimeout(this.timerId))},deleteTitleWithIndex:function(e){this.$store.state.titles.splice(e,1),this.makeDeleteTitleResp(this.titleToDeleteID),this.$forceUpdate(),localStorage.setItem("titles",JSON.stringify(this.$store.state.titles)),console.log("delete")},createTitle:function(){if(console.log(this.makeDate("2019-09-10")),""!==this.newEvent){var e={title:this.newEvent,withDuration:this.isEventWithDuration};this.makeAddTitleResp(e),this.$store.state.titles.push(e),console.log(this.$store.state.titles),this.newEvent="",this.isEventWithDuration=!1,localStorage.setItem("titles",JSON.stringify(this.$store.state.titles)),this.$forceUpdate()}},makeGetTitlesResp:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var s,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/getTitles",{method:"GET"});case 2:if(s=t.sent,!s.ok){t.next=15;break}return t.next=6,s.json();case 6:n=t.sent,null===n&&(n=[]),console.log(n),e.$store.state.titles=n,console.log(e.$store.state.titles),localStorage.setItem("titles",JSON.stringify(e.$store.state.titles)),console.log("okkkk"),t.next=16;break;case 15:s.status>299&&s.status<500?console.log("err"):s.status>500&&console.log("some wrong on backend");case 16:case"end":return t.stop()}}),t)})))()},makeAddTitleResp:function(e){return Object(o["a"])(Object(r["a"])().mark((function t(){var s;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/newTitle",{method:"POST",body:JSON.stringify(e)});case 2:s=t.sent,s.ok?console.log("okkkk"):console.log("not ok");case 4:case"end":return t.stop()}}),t)})))()},makeDeleteTitleResp:function(e){var t=this;return Object(o["a"])(Object(r["a"])().mark((function s(){var n;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,fetch("/api/deleteTitle",{method:"DELETE",body:JSON.stringify({id:e})});case 2:n=s.sent,n.ok?(console.log(t.$store.state.titles),localStorage.setItem("titles",JSON.stringify(t.$store.state.titles)),console.log("okkkk")):n.status>299&&n.status<500?console.log("err"):n.status>500&&console.log("some wrong on backend");case 4:case"end":return s.stop()}}),s)})))()},changeIsNewTask:function(e){this.isNewTask=e},makeHoursAndMinutesStr:function(e){var t=e.getHours(),s=e.getMinutes();return t=1===t.toString().length?"0"+t:t,s=1===s.toString().length?"0"+s:s,t+":"+s},makeDate:function(e,t,s,n){return e=void 0===e?"":e,t=void 0===t?"":"T"+t,void 0!==s&&(s=1===s.toString().length?"0"+s:s),s=void 0===s?"":":"+s,n=void 0===n?"":"."+n,console.log("make Date = ",e+t+s+n),new Date(e+t+s+n)},openNewTask:function(){this.isNewTask=!0}},beforeMount:function(){this.makeGetTitlesResp()}},Te=Ee,je=(s("e405"),s("ac7c")),Se=s("c964"),Oe=Object(u["a"])(Te,ne,ae,!1,null,"12632abb",null),De=Oe.exports;v()(Oe,{VBtn:h["a"],VCard:p["a"],VCardActions:m["a"],VCardTitle:m["b"],VCheckbox:je["a"],VCol:le["a"],VDialog:k["a"],VRow:b["a"],VSpacer:w["a"],VTextField:x["a"],VTimePicker:Se["a"]});var _e={name:"Main",components:{AddEvent:De},data:function(){return{page:"add"}},methods:{}},$e=_e,Ie=(s("0b7a"),Object(u["a"])($e,te,se,!1,null,"0f274352",null)),Ce=Ie.exports;v()(Ie,{VApp:f["a"]});var Pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._l(this.$store.state.tasks,(function(t){return s("div",{key:t.id},[s("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-top":"20px",padding:"5px"},on:{click:function(t){e.isTaskInfo=!0}}},[s("div",[s("div",{staticStyle:{"font-size":"18px","text-transform":"capitalize",display:"flex","align-items":"center"},style:t.deleted?"opacity: 0.5":""},[e._v(e._s(t.title)+" ")]),s("span",{staticStyle:{color:"#555","font-size":"15px",display:"block","padding-top":"10px"},style:t.deleted?"opacity: 0.5":""},[e._v(e._s(e.timeLeft(new Date(1e3*t.timeEnd)))+" ")])]),s("div",{on:{click:function(e){e.stopPropagation()}}},[t.deleted?s("span",{staticStyle:{color:"#555","font-size":"12px","padding-right":"10px"}},[e._v(e._s(t.waitSeconds)+"с")]):e._e(),t.deleted?e._e():s("v-btn",{attrs:{icon:""},on:{click:function(s){return e.openChangeTask(t.id)}}},[e._v("✏️")]),t.deleted?s("v-btn",{attrs:{text:"",small:""},on:{click:function(s){return e.camebackTask(t.id)}}},[e._v("вернуть ↩︎")]):s("v-btn",{attrs:{icon:""},on:{click:function(s){return e.deleteTask(t.id)}}},[e._v("🗑")]),t.deleted?e._e():s("span",{staticStyle:{color:"#555","font-size":"13px",display:"block","text-align":"right","padding-right":"5px"}},[e._v(" "+e._s(e.calcProgress(t.id))+" ")])],1)]),s("div",{style:{border:"2px solid green",opacity:"0.3"}}),s("div",{style:{position:"relative",top:"-4px",border:"2px solid green",width:e.calcPercent(t)+"%",display:0===e.calcPercent(t)?"none":""}})])})),e.isAddNum?[s("div",{staticClass:"picker",on:{click:function(t){e.isAddNum=!1}}},[s("div",{staticClass:"picker__content",on:{click:function(e){e.stopPropagation()}}},[e._t("default",(function(){return[s("div",{staticStyle:{"background-color":"white",padding:"20px","border-radius":"3px",width:"320px"}},[s("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-row",[s("div",{staticStyle:{display:"flex","justify-content":"space-between",padding:"5px",color:"#777777",width:"100%"}},[s("div",[s("div",{staticClass:"text-h5",staticStyle:{"max-width":"200px","word-wrap":"break-word"}},[e._v(" "+e._s(e.$store.state.tasks[e.findIndexTasks(e.chosenTaskId)].title)+" ")])]),s("div",{staticStyle:{"white-space":"nowrap"}},[e._v(" "+e._s(e.calcProgress(e.chosenTaskId))+" ")])]),"time"===e.$store.state.tasks[e.findIndexTasks(e.chosenTaskId)].type?[s("v-flex",{attrs:{xs6:""}},[s("v-text-field",{attrs:{label:"hours",outlined:""},model:{value:e.taskHours,callback:function(t){e.taskHours=t},expression:"taskHours"}})],1),s("v-flex",{attrs:{xs6:""}},[s("v-text-field",{attrs:{label:"minutes",outlined:""},model:{value:e.taskMinutes,callback:function(t){e.taskMinutes=t},expression:"taskMinutes"}})],1)]:[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:e.$store.state.tasks[e.findIndexTasks(e.chosenTaskId)].type,outlined:""},model:{value:e.taskNum,callback:function(t){e.taskNum=t},expression:"taskNum"}})],1)],s("v-btn",{staticClass:"mb-2",attrs:{width:"290px",height:"50px",color:"white"},on:{click:e.changeTask}},[e._v("add ")])],2)],1)],1)],1)]}))],2)])]:e._e(),e.isTaskInfo?[s("div",{staticClass:"picker",on:{click:function(t){e.isTaskInfo=!1}}},[s("div",{staticClass:"picker__content",on:{click:function(e){e.stopPropagation()}}},[e._t("default",(function(){return[s("h1",[e._v("Hello World")])]}))],2)])]:e._e(),s("Footer")],2)},Me=[],Ne={name:"ListTasks",components:{Footer:ye},data:function(){return{taskHours:0,taskMinutes:0,taskNum:0,isAddNum:!1,isTaskInfo:!1,chosenTaskId:-1,taskPieces:[]}},methods:{getTasks:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var s,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("hi there too"),t.next=3,e.$store.state.makeReq("api/getTasks","GET");case 3:return s=t.sent,t.next=6,s.json();case 6:n=t.sent,console.log("tasls = ",n),null===n&&(n=[]),e.$store.state.tasks=n,console.log("resp = ",e.$store.state.tasks),localStorage.setItem("tasks",JSON.stringify(e.$store.state.tasks)),console.log(e.$store.state.tasks);case 13:case"end":return t.stop()}}),t)})))()},openChangeTask:function(e){this.isAddNum=!0,this.chosenTaskId=e,this.getTaskPieces(),console.log("hi")},getTaskPieces:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var s,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.state.makeReq("api/getTaskPieces","POST",JSON.stringify({id:e.chosenTaskId}));case 2:return s=t.sent,t.next=5,s.json();case 5:n=t.sent,console.log("tasls = ",n),null===n&&(n=[]),e.taskPieces=n,console.log("pieces = ",n);case 10:case"end":return t.stop()}}),t)})))()},changeTask:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var s,n,a,i,o,c;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.findIndexTasks(e.chosenTaskId),n=e.$store.state.tasks[s],a=0,i=0,console.log({task:n}),(parseInt(e.taskNum)>0||parseInt(e.taskHours)>=0&&parseInt(e.taskMinutes)>=0)&&("time"===n.type?(console.log("hi there"),console.log("calc = ",parseInt(e.$store.state.tasks[s].num)+parseInt(60*(60*parseInt(e.taskHours)+parseInt(e.taskMinutes)))),a=parseInt(e.$store.state.tasks[s].num)+parseInt(60*(60*parseInt(e.taskHours)+parseInt(e.taskMinutes))),i=parseInt(60*(60*parseInt(e.taskHours)+parseInt(e.taskMinutes)))):(a=parseInt(e.$store.state.tasks[s].num)+parseInt(e.taskNum),i=parseInt(e.taskNum)),e.$store.state.tasks[s].num=a),localStorage.setItem("tasks",JSON.stringify(e.$store.state.tasks)),console.log(n),o={id:n.id,title:n.title,timeStart:n.timeStart,timeEnd:n.timeEnd,type:n.type,target:n.target,num:a,deltaNum:i},t.next=11,e.$store.state.makeReq("api/changeTask","PUT",JSON.stringify(o));case 11:c=t.sent,console.log(c),e.isAddNum=!1,e.taskHours=0,e.taskMinutes=0,e.taskNum=0;case 17:case"end":return t.stop()}}),t)})))()},deleteTask:function(e){var t=this,s=this.findIndexTasks(e),n=this.$store.state.tasks[s],a=3;n.waitSeconds=a;var i=setInterval((function(){if(!n.deleted)return clearInterval(i),localStorage.setItem("tasks",JSON.stringify(t.$store.state.tasks)),void t.$forceUpdate();if(--a<0){clearInterval(i);var s=t.findIndexTasks(e);t.$store.state.makeReq("api/deleteTask","DELETE",JSON.stringify({id:e})),t.$store.state.tasks.splice(s,1)}else n.waitSeconds=a;t.$forceUpdate()}),1e3);n.deleted=Date.now(),this.$forceUpdate(),localStorage.setItem("events",JSON.stringify(this.$store.state.events))},camebackTask:function(e){var t=this.findIndexTasks(e);this.$store.state.tasks[t].deleted=0,this.$forceUpdate()},timeLeft:function(e){return M()(e).fromNow()},calcProgress:function(e){var t=this.$store.state.tasks[this.findIndexTasks(e)];return"time"===t.type?this.makeMinutesAndHoursStr(parseInt(parseInt(t.num)/3600),parseInt(t.num)%3600/60)+" / "+this.makeMinutesAndHoursStr(parseInt(parseInt(t.target)/3600),parseInt(t.target)%3600/60):t.num+" / "+t.target},calcPercent:function(e){var t=0;return void 0!==e.num&&(t=e.num),t/e.target*100>100?100:t/e.target*100},makeMinutesAndHoursStr:function(e,t){return e=1===e.toString().length?"0"+e:e,t=1===t.toString().length?"0"+t:t,e+":"+t},findIndexTasks:function(e){for(var t=0;t<this.$store.state.tasks.length;t++)if(this.$store.state.tasks[t].id===e)return t;return-1}},beforeMount:function(){console.log("hi there"),this.getTasks()}},Re=Ne,Ve=(s("720e"),Object(u["a"])(Re,Pe,Me,!1,null,"28e66350",null)),ze=Ve.exports;v()(Ve,{VBtn:h["a"],VContainer:ue["a"],VFlex:de["a"],VLayout:ve["a"],VRow:b["a"],VTextField:x["a"]});var qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isChangeEvent?[s("div",{staticClass:"picker",on:{click:function(t){e.isChangeEvent=!1}}},[s("div",{staticClass:"picker__content",on:{click:function(e){e.stopPropagation()}}},[e._t("default",(function(){return[s("v-row",{attrs:{justify:"space-around"}},[s("v-col",[s("v-time-picker",{attrs:{format:"24hr"},model:{value:e.timePicker,callback:function(t){e.timePicker=t},expression:"timePicker"}})],1),s("v-col",[s("v-date-picker",{attrs:{color:"primary lighten-1"},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}})],1),s("v-col",[s("v-btn",{staticClass:"mb-4",attrs:{width:"290px",color:"white"},on:{click:e.saveEventChanges}},[e._v("save ")])],1)],1)]}))],2)])]:e._e(),e.isChangeEventWithDuration?[s("div",{staticClass:"picker",on:{click:function(t){e.isChangeEventWithDuration=!1}}},[s("div",{staticClass:"picker__content",on:{click:function(e){e.stopPropagation()}}},[e._t("default",(function(){return[s("div",[s("h1",[e._v("Change your event:")]),s("v-row",{attrs:{justify:"space-around",align:"center"}},[s("v-col",{staticStyle:{width:"350px",flex:"0 1 auto"}},[s("h2",[e._v("Start:")]),s("v-time-picker",{attrs:{format:"24hr",max:e.endEventTime},model:{value:e.startEventTime,callback:function(t){e.startEventTime=t},expression:"startEventTime"}})],1),s("v-col",{staticStyle:{width:"350px",flex:"0 1 auto"}},[s("h2",[e._v("End:")]),s("v-time-picker",{attrs:{format:"24hr",min:e.startEventTime},model:{value:e.endEventTime,callback:function(t){e.endEventTime=t},expression:"endEventTime"}})],1),s("v-col",[s("v-date-picker",{attrs:{color:"primary lighten-1"},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}})],1),s("v-col",[s("v-btn",{staticClass:"mb-2",attrs:{width:"290px",height:"50px",color:"white"},on:{click:e.saveEventWithDurationChanges}},[e._v("save ")])],1)],1)],1)]}))],2)])]:e._e(),e._l(this.$store.state.events,(function(t,n){return s("div",{key:t.id},[e.isNewDay(n)?s("div",{staticStyle:{"margin-top":"20px",color:"#555555"}},[e._v(e._s(e._f("moment")(new Date(t.dt))))]):e._e(),s("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-top":"20px",padding:"5px"}},[s("div",[s("div",{staticStyle:{"font-size":"18px","text-transform":"capitalize",display:"flex","align-items":"center"},style:t.deleted?"opacity: 0.5":""},[e._v(e._s(t.title)+" ")]),t.deleted?e._e():s("span",{staticStyle:{color:"#555","font-size":"11px",display:"block"}},[e._v(e._s(e.getHourAndMinutes(t)))])]),s("div",[t.deleted?s("span",{staticStyle:{color:"#555","font-size":"12px","padding-right":"10px"}},[e._v(e._s(t.waitSeconds)+"с")]):e._e(),0===t.timeStart||void 0===t.timeStart||t.deleted?e._e():s("span",{staticStyle:{color:"#555","font-size":"14px"}},[e._v(" "+e._s(e.printEventDuration(t))+" ")]),t.deleted?e._e():s("v-btn",{attrs:{icon:""},on:{click:function(s){return e.changeEvent(t.id)}}},[e._v("✏️")]),t.deleted?s("v-btn",{attrs:{text:"",small:""},on:{click:function(s){return e.camebackEvent(t.id)}}},[e._v("вернуть ↩︎")]):s("v-btn",{attrs:{icon:""},on:{click:function(s){return e.deleteEvent(t.id)}}},[e._v("🗑")])],1)]),s("div",{style:{border:"2px solid "+e.borderColorForEvent(n),width:e.calcTimePercent(n)+"%"}})])})),s("Footer")],2)},Ae=[],Ue=(s("fb6a"),{name:"listEvents",components:{Footer:ye},filters:{moment:function(e){return M()(e).format("D MMMM")}},data:function(){return{isChangeEvent:!1,isChangeEventWithDuration:!1,startEventTime:null,endEventTime:null,eventToChangeId:-1,timePicker:"",percentOfEventTime:0,datePicker:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}},computed:{eventsArray:function(){return this.$store.state.events.slice().sort((function(e,t){return e.dt<t.dt?1:-1}))}},methods:{deleteEvent:function(e){var t=this,s=this.findIndexEvents(e),n=this.$store.state.events[s],a=3;n.waitSeconds=a;var i=setInterval((function(){if(!n.deleted)return clearInterval(i),localStorage.setItem("events",JSON.stringify(t.$store.state.events)),void t.$forceUpdate();if(--a<0){clearInterval(i);var s=t.findIndexEvents(e);t.deleteEventFromBD(e),t.$store.state.events.splice(s,1)}else n.waitSeconds=a;t.$forceUpdate()}),1e3);n.deleted=Date.now(),this.$forceUpdate(),localStorage.setItem("events",JSON.stringify(this.$store.state.events))},camebackEvent:function(e){var t=this.findIndexEvents(e);this.$store.state.events[t].deleted=0,this.$forceUpdate()},changeEvent:function(e){var t=this.findIndexEvents(e),s=new Date(this.$store.state.events[t].dt);if(this.selectedEventIndex=t,0!==this.$store.state.events[t].timeEnd){var n=new Date(this.$store.state.events[t].timeStart),a=new Date(this.$store.state.events[t].timeEnd);this.startEventTime=this.makeHoursAndMinutesStr(n),this.endEventTime=this.makeHoursAndMinutesStr(a),this.datePicker=new Date(s-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),console.log(this.startEventTime),console.log(this.endEventTime),this.isChangeEventWithDuration=!0}else this.timePicker=this.makeHoursAndMinutesStr(s),this.datePicker=new Date(s-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),this.isChangeEvent=!0,this.$forceUpdate()},saveEventWithDurationChanges:function(){var e=this.makeDate(this.datePicker,this.startEventTime),t=this.makeDate(this.datePicker,this.endEventTime);this.$store.state.events[this.selectedEventIndex].timeStart=e.getTime()+this.$store.state.events[this.selectedEventIndex].dt%1e3,this.$store.state.events[this.selectedEventIndex].timeEnd=t.getTime()+this.$store.state.events[this.selectedEventIndex].dt%1e3,this.$store.state.events[this.selectedEventIndex].dt=this.$store.state.events[this.selectedEventIndex].timeStart,this.changeEventFromBD(this.$store.state.events[this.selectedEventIndex]),localStorage.setItem("events",JSON.stringify(this.$store.state.events)),this.isChangeEventWithDuration=!1,this.sortEvents()},saveEventChanges:function(){var e=this.makeDate(this.datePicker,this.timePicker);this.$store.state.events[this.selectedEventIndex].dt=e.getTime()+this.$store.state.events[this.selectedEventIndex].dt%1e3,this.changeEventFromBD(this.$store.state.events[this.selectedEventIndex]),localStorage.setItem("events",JSON.stringify(this.$store.state.events)),this.isChangeEvent=!1,this.sortEvents()},calcTimePercent:function(e){if(0===this.$store.state.events[e].timeEnd)return 100;if(this.$store.state.events[e].timeEnd-this.$store.state.events[e].timeStart<=0)return 0;for(var t=0,s=0;s<this.eventsArray.length;s++)new Date(this.$store.state.events[s].dt).getDate()===new Date(this.$store.state.events[e].dt).getDate()&&0!==this.$store.state.events[s].timeStart&&(t+=this.$store.state.events[s].timeEnd-this.$store.state.events[s].timeStart);return this.percentOfEventTime=(this.$store.state.events[e].timeEnd-this.$store.state.events[e].timeStart)/t*100},getEvents:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var s,n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/getEvents",{method:"GET"});case 2:if(s=t.sent,!s.ok){t.next=14;break}return t.next=6,s.json();case 6:n=t.sent,e.$store.state.events=n,console.log(e.$store.state.events),e.sortEvents(),localStorage.setItem("events",JSON.stringify(e.$store.state.events)),console.log("okkkk"),t.next=15;break;case 14:s.status>299&&s.status<500?console.log("err"):s.status>500&&console.log("some wrong on backend");case 15:case"end":return t.stop()}}),t)})))()},changeEventFromBD:function(e){var t=this;return Object(o["a"])(Object(r["a"])().mark((function s(){var n;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,fetch("/api/changeEvent",{method:"PUT",body:JSON.stringify(e)});case 2:n=s.sent,n.ok?(console.log(t.$store.state.events),t.sortEvents(),localStorage.setItem("events",JSON.stringify(t.$store.state.events)),console.log("okkkk")):n.status>299&&n.status<500?console.log("err"):n.status>500&&console.log("some wrong on backend");case 4:case"end":return s.stop()}}),s)})))()},deleteEventFromBD:function(e){var t=this;return Object(o["a"])(Object(r["a"])().mark((function s(){var n;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,fetch("/api/deleteEvent",{method:"DELETE",body:JSON.stringify({id:e})});case 2:n=s.sent,n.ok?(console.log(t.$store.state.events),t.sortEvents(),localStorage.setItem("events",JSON.stringify(t.$store.state.events)),console.log("okkkk")):n.status>299&&n.status<500?console.log("err"):n.status>500&&console.log("some wrong on backend");case 4:case"end":return s.stop()}}),s)})))()},borderColorForEvent:function(e){return 0===this.$store.state.events[e].timeStart?"none":"green"},sortEvents:function(){this.$store.state.events=this.$store.state.events.slice().sort((function(e,t){return e.dt<t.dt?1:-1}))},isNewDay:function(e){return 0===e||(console.log(e,new Date(this.eventsArray[e-1].dt).getDate(),new Date(this.eventsArray[e].dt).getDate()),new Date(this.eventsArray[e-1].dt).getDate()!==new Date(this.eventsArray[e].dt).getDate())},printEventDuration:function(e){var t=Math.floor((e.timeEnd-e.timeStart)/36e5),s=Math.floor((e.timeEnd-e.timeStart)%36e5/6e4);return s=1===s.toString().length?"0"+s:s,t+":"+s},getHourAndMinutes:function(e){return 0===e.timeEnd||void 0===e.timeEnd?this.makeHoursAndMinutesStr(new Date(e.dt)):this.makeHoursAndMinutesStr(new Date(e.dt))+" - "+this.makeHoursAndMinutesStr(new Date(e.timeEnd))},getEndOfEventStr:function(e){return this.makeHoursAndMinutesStr(new Date(e.timeEnd))},makeHoursAndMinutesStr:function(e){var t=e.getHours(),s=e.getMinutes();return t=1===t.toString().length?"0"+t:t,s=1===s.toString().length?"0"+s:s,t+":"+s},makeDate:function(e,t,s,n){return e=void 0===e?"":e,t=void 0===t?"":"T"+t,void 0!==s&&(s=1===s.length?"0"+s:s),s=void 0===s?"":":"+s,n=void 0===n?"":"."+n,console.log("make Date = ",e+t+s+n),new Date(e+t+s+n)},findIndexEvents:function(e){for(var t=0;t<this.$store.state.events.length;t++)if(this.$store.state.events[t].id===e)return t;return-1}},beforeMount:function(){this.getEvents()}}),He=Ue,Je=(s("9d3c"),Object(u["a"])(He,qe,Ae,!1,null,"430bd815",null)),Fe=Je.exports;v()(Je,{VBtn:h["a"],VCol:le["a"],VDatePicker:g["a"],VRow:b["a"],VTimePicker:Se["a"]});var Be=new N["a"]({mode:"history",routes:[{path:"/",component:Ce},{path:"/login",component:H},{path:"/signUp",component:ee},{path:"/add",component:De},{path:"/events",component:Fe},{path:"/tasks",component:ze}]}),We=s("2ead"),Le=s.n(We),Ge=s("3a60"),Ye=s.n(Ge);n["a"].use(N["a"]),n["a"].use($.a),n["a"].use(M.a),n["a"].prototype.$moment=M.a,n["a"].use(Ye.a),n["a"].config.productionTip=!1,new n["a"]({store:D,vuetify:C,render:function(e){return e(E)},router:Be,VueMoment:Le.a}).$mount("#app")},"60f5":function(e,t,s){},"720e":function(e,t,s){"use strict";s("e09e")},7548:function(e,t,s){"use strict";s("126b")},"9d3c":function(e,t,s){"use strict";s("fa01")},a1c2:function(e,t,s){},b3d5:function(e,t,s){},cb8c:function(e,t,s){"use strict";s("18b6")},de97:function(e,t,s){"use strict";s("60f5")},e09e:function(e,t,s){},e405:function(e,t,s){"use strict";s("b3d5")},fa01:function(e,t,s){}});
//# sourceMappingURL=app.45b0f4a5.js.map