{"remainingRequest":"/Users/mac/go/src/L2/task_11/static/node_modules/thread-loader/dist/cjs.js!/Users/mac/go/src/L2/task_11/static/node_modules/babel-loader/lib/index.js!/Users/mac/go/src/L2/task_11/static/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mac/go/src/L2/task_11/static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/go/src/L2/task_11/static/src/components/tasks/ListTasks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/go/src/L2/task_11/static/src/components/tasks/ListTasks.vue","mtime":1660935460445},{"path":"/Users/mac/go/src/L2/task_11/static/babel.config.js","mtime":1653650336335},{"path":"/Users/mac/go/src/L2/task_11/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/L2/task_11/static/node_modules/thread-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/L2/task_11/static/node_modules/babel-loader/lib/index.js","mtime":1656160197672},{"path":"/Users/mac/go/src/L2/task_11/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/L2/task_11/static/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL21hYy9nby9zcmMvTDIvdGFza18xMS9zdGF0aWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbWFjL2dvL3NyYy9MMi90YXNrXzExL3N0YXRpYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUubm93LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBGb290ZXIgZnJvbSAiQC9jb21wb25lbnRzL0Zvb3RlciI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMaXN0VGFza3MiLAogIGNvbXBvbmVudHM6IHsKICAgIEZvb3RlcjogRm9vdGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFza0hvdXJzOiAwLAogICAgICB0YXNrTWludXRlczogMCwKICAgICAgdGFza051bTogMCwKICAgICAgaXNBZGROdW06IGZhbHNlLAogICAgICBpc1Rhc2tJbmZvOiBmYWxzZSwKICAgICAgY2hvc2VuVGFza0lkOiAtMSwKICAgICAgdGFza1BpZWNlczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUYXNrczogZnVuY3Rpb24gZ2V0VGFza3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZSwgdGFza3M7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2hpIHRoZXJlIHRvbycpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLnN0YXRlLm1ha2VSZXEoJ2FwaS9nZXRUYXNrcycsICdHRVQnKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICB0YXNrcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndGFzbHMgPSAnLCB0YXNrcyk7CgogICAgICAgICAgICAgICAgaWYgKHRhc2tzID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHRhc2tzID0gW107CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLnRhc2tzID0gdGFza3M7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzcCA9ICcsIF90aGlzLiRzdG9yZS5zdGF0ZS50YXNrcyk7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGFza3MnLCBKU09OLnN0cmluZ2lmeShfdGhpcy4kc3RvcmUuc3RhdGUudGFza3MpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLiRzdG9yZS5zdGF0ZS50YXNrcyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb3BlbkNoYW5nZVRhc2s6IGZ1bmN0aW9uIG9wZW5DaGFuZ2VUYXNrKHRhc2tJZCkgewogICAgICB0aGlzLmlzQWRkTnVtID0gdHJ1ZTsKICAgICAgdGhpcy5jaG9zZW5UYXNrSWQgPSB0YXNrSWQ7CiAgICAgIHRoaXMuZ2V0VGFza1BpZWNlcygpOwogICAgICBjb25zb2xlLmxvZygnaGknKTsKICAgIH0sCiAgICBnZXRUYXNrUGllY2VzOiBmdW5jdGlvbiBnZXRUYXNrUGllY2VzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwb25zZSwgdGFza3NQaWVjZXM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLnN0YXRlLm1ha2VSZXEoImFwaS9nZXRUYXNrUGllY2VzIiwgIlBPU1QiLCBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczIuY2hvc2VuVGFza0lkCiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB0YXNrc1BpZWNlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rhc2xzID0gJywgdGFza3NQaWVjZXMpOwoKICAgICAgICAgICAgICAgIGlmICh0YXNrc1BpZWNlcyA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICB0YXNrc1BpZWNlcyA9IFtdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi50YXNrUGllY2VzID0gdGFza3NQaWVjZXM7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygicGllY2VzID0gIiwgdGFza3NQaWVjZXMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hhbmdlVGFzazogZnVuY3Rpb24gY2hhbmdlVGFzaygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgaW5kZXgsIHRhc2ssIG51bSwgZGVsdGFOdW0sIG5ld1Rhc2ssIHJlc3BvbnNlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpbmRleCA9IF90aGlzMy5maW5kSW5kZXhUYXNrcyhfdGhpczMuY2hvc2VuVGFza0lkKTsKICAgICAgICAgICAgICAgIHRhc2sgPSBfdGhpczMuJHN0b3JlLnN0YXRlLnRhc2tzW2luZGV4XTsKICAgICAgICAgICAgICAgIG51bSA9IDA7CiAgICAgICAgICAgICAgICBkZWx0YU51bSA9IDA7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh7CiAgICAgICAgICAgICAgICAgIHRhc2s6IHRhc2sKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChfdGhpczMudGFza051bSkgPiAwIHx8IHBhcnNlSW50KF90aGlzMy50YXNrSG91cnMpID49IDAgJiYgcGFyc2VJbnQoX3RoaXMzLnRhc2tNaW51dGVzKSA+PSAwKSB7CiAgICAgICAgICAgICAgICAgIGlmICh0YXNrLnR5cGUgPT09ICd0aW1lJykgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJoaSB0aGVyZSIpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYWxjID0gJywgcGFyc2VJbnQoX3RoaXMzLiRzdG9yZS5zdGF0ZS50YXNrc1tpbmRleF0ubnVtKSArIHBhcnNlSW50KChwYXJzZUludChfdGhpczMudGFza0hvdXJzKSAqIDYwICsgcGFyc2VJbnQoX3RoaXMzLnRhc2tNaW51dGVzKSkgKiA2MCkpOwogICAgICAgICAgICAgICAgICAgIG51bSA9IHBhcnNlSW50KF90aGlzMy4kc3RvcmUuc3RhdGUudGFza3NbaW5kZXhdLm51bSkgKyBwYXJzZUludCgocGFyc2VJbnQoX3RoaXMzLnRhc2tIb3VycykgKiA2MCArIHBhcnNlSW50KF90aGlzMy50YXNrTWludXRlcykpICogNjApOwogICAgICAgICAgICAgICAgICAgIGRlbHRhTnVtID0gcGFyc2VJbnQoKHBhcnNlSW50KF90aGlzMy50YXNrSG91cnMpICogNjAgKyBwYXJzZUludChfdGhpczMudGFza01pbnV0ZXMpKSAqIDYwKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBudW0gPSBwYXJzZUludChfdGhpczMuJHN0b3JlLnN0YXRlLnRhc2tzW2luZGV4XS5udW0pICsgcGFyc2VJbnQoX3RoaXMzLnRhc2tOdW0pOwogICAgICAgICAgICAgICAgICAgIGRlbHRhTnVtID0gcGFyc2VJbnQoX3RoaXMzLnRhc2tOdW0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczMuJHN0b3JlLnN0YXRlLnRhc2tzW2luZGV4XS5udW0gPSBudW07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rhc2tzJywgSlNPTi5zdHJpbmdpZnkoX3RoaXMzLiRzdG9yZS5zdGF0ZS50YXNrcykpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGFzayk7CiAgICAgICAgICAgICAgICBuZXdUYXNrID0gewogICAgICAgICAgICAgICAgICBpZDogdGFzay5pZCwKICAgICAgICAgICAgICAgICAgdGl0bGU6IHRhc2sudGl0bGUsCiAgICAgICAgICAgICAgICAgIHRpbWVTdGFydDogdGFzay50aW1lU3RhcnQsCiAgICAgICAgICAgICAgICAgIHRpbWVFbmQ6IHRhc2sudGltZUVuZCwKICAgICAgICAgICAgICAgICAgdHlwZTogdGFzay50eXBlLAogICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhc2sudGFyZ2V0LAogICAgICAgICAgICAgICAgICBudW06IG51bSwKICAgICAgICAgICAgICAgICAgZGVsdGFOdW06IGRlbHRhTnVtCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLnN0YXRlLm1ha2VSZXEoJ2FwaS9jaGFuZ2VUYXNrJywgJ1BVVCcsIEpTT04uc3RyaW5naWZ5KG5ld1Rhc2spKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICBfdGhpczMuaXNBZGROdW0gPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzMy50YXNrSG91cnMgPSAwOwogICAgICAgICAgICAgICAgX3RoaXMzLnRhc2tNaW51dGVzID0gMDsKICAgICAgICAgICAgICAgIF90aGlzMy50YXNrTnVtID0gMDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZVRhc2s6IGZ1bmN0aW9uIGRlbGV0ZVRhc2soaWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgaW5kZXggPSB0aGlzLmZpbmRJbmRleFRhc2tzKGlkKTsKICAgICAgdmFyIHRhc2sgPSB0aGlzLiRzdG9yZS5zdGF0ZS50YXNrc1tpbmRleF07IC8vIGNvbnNvbGUubG9nKCJpbmRleCA9ICIsIGluZGV4KQogICAgICAvLyBjb25zb2xlLmxvZyh7ZXZlbnR9KQoKICAgICAgdmFyIHdhaXRTZWNvbmRzID0gMzsKICAgICAgdGFzay53YWl0U2Vjb25kcyA9IHdhaXRTZWNvbmRzOwogICAgICB2YXIgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIXRhc2suZGVsZXRlZCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YXNrcycsIEpTT04uc3RyaW5naWZ5KF90aGlzNC4kc3RvcmUuc3RhdGUudGFza3MpKTsKCiAgICAgICAgICBfdGhpczQuJGZvcmNlVXBkYXRlKCk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKC0td2FpdFNlY29uZHMgPCAwKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpOwoKICAgICAgICAgIHZhciBfaW5kZXggPSBfdGhpczQuZmluZEluZGV4VGFza3MoaWQpOwoKICAgICAgICAgIF90aGlzNC4kc3RvcmUuc3RhdGUubWFrZVJlcSgiYXBpL2RlbGV0ZVRhc2siLCAiREVMRVRFIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICBpZDogaWQKICAgICAgICAgIH0pKTsKCiAgICAgICAgICBfdGhpczQuJHN0b3JlLnN0YXRlLnRhc2tzLnNwbGljZShfaW5kZXgsIDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0YXNrLndhaXRTZWNvbmRzID0gd2FpdFNlY29uZHM7CiAgICAgICAgfQoKICAgICAgICBfdGhpczQuJGZvcmNlVXBkYXRlKCk7CiAgICAgIH0sIDEwMDApOyAvLyB0aGlzLiRzdG9yZS5zdGF0ZS5ldmVudHMuc3BsaWNlKGluZGV4LCAxKQoKICAgICAgdGFzay5kZWxldGVkID0gRGF0ZS5ub3coKTsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2V2ZW50cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50cykpOwogICAgfSwKICAgIGNhbWViYWNrVGFzazogZnVuY3Rpb24gY2FtZWJhY2tUYXNrKGlkKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuZmluZEluZGV4VGFza3MoaWQpOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS50YXNrc1tpbmRleF0uZGVsZXRlZCA9IDA7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICB9LAogICAgdGltZUxlZnQ6IGZ1bmN0aW9uIHRpbWVMZWZ0KGRhdGUpIHsKICAgICAgLy8gY29uc29sZS5sb2coZGF0ZSkKICAgICAgLy8gbGV0IGFyciA9IG1vbWVudChkYXRlKS5mcm9tTm93KCkuc3BsaXQoJyAnKQogICAgICAvLyBjb25zb2xlLmxvZyhhcnIpCiAgICAgIC8vIGFyci5zcGxpY2UoMCwxKQogICAgICAvLyBjb25zb2xlLmxvZyhhcnIpCiAgICAgIC8vIHJldHVybiAi0L7RgdGC0LDQu9C+0YHRjCAiK2Fyci5qb2luKCIgIikKICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5mcm9tTm93KCk7CiAgICB9LAogICAgY2FsY1Byb2dyZXNzOiBmdW5jdGlvbiBjYWxjUHJvZ3Jlc3ModGFza0lkKSB7CiAgICAgIHZhciB0YXNrID0gdGhpcy4kc3RvcmUuc3RhdGUudGFza3NbdGhpcy5maW5kSW5kZXhUYXNrcyh0YXNrSWQpXTsKCiAgICAgIGlmICh0YXNrLnR5cGUgPT09ICd0aW1lJykgewogICAgICAgIHJldHVybiB0aGlzLm1ha2VNaW51dGVzQW5kSG91cnNTdHIocGFyc2VJbnQocGFyc2VJbnQodGFzay5udW0pIC8gMzYwMCksIHBhcnNlSW50KHRhc2subnVtKSAlIDM2MDAgLyA2MCkgKyAiIC8gIiArIHRoaXMubWFrZU1pbnV0ZXNBbmRIb3Vyc1N0cihwYXJzZUludChwYXJzZUludCh0YXNrLnRhcmdldCkgLyAzNjAwKSwgcGFyc2VJbnQodGFzay50YXJnZXQpICUgMzYwMCAvIDYwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGFzay5udW0gKyAnIC8gJyArIHRhc2sudGFyZ2V0OwogICAgICB9CiAgICB9LAogICAgY2FsY1BlcmNlbnQ6IGZ1bmN0aW9uIGNhbGNQZXJjZW50KHRhc2spIHsKICAgICAgdmFyIG51bSA9IDA7CgogICAgICBpZiAodGFzay5udW0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIG51bSA9IHRhc2subnVtOwogICAgICB9IC8vIGNvbnNvbGUubG9nKCdwZXJjZW50ZWdlID0gJywgbnVtL3Rhc2sudGFyZ2V0KjEwMCkKCgogICAgICByZXR1cm4gbnVtIC8gdGFzay50YXJnZXQgKiAxMDAgPiAxMDAgPyAxMDAgOiBudW0gLyB0YXNrLnRhcmdldCAqIDEwMDsKICAgIH0sCiAgICBtYWtlTWludXRlc0FuZEhvdXJzU3RyOiBmdW5jdGlvbiBtYWtlTWludXRlc0FuZEhvdXJzU3RyKGhvdXJzLCBtaW51dGVzKSB7CiAgICAgIGhvdXJzID0gaG91cnMudG9TdHJpbmcoKS5sZW5ndGggPT09IDEgPyAnMCcgKyBob3VycyA6IGhvdXJzOwogICAgICBtaW51dGVzID0gbWludXRlcy50b1N0cmluZygpLmxlbmd0aCA9PT0gMSA/ICcwJyArIG1pbnV0ZXMgOiBtaW51dGVzOwogICAgICByZXR1cm4gaG91cnMgKyAnOicgKyBtaW51dGVzOwogICAgfSwKICAgIGZpbmRJbmRleFRhc2tzOiBmdW5jdGlvbiBmaW5kSW5kZXhUYXNrcyhpZCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnRhc2tzW2ldLmlkID09PSBpZCkgewogICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gLTE7CiAgICB9CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICBjb25zb2xlLmxvZygnaGkgdGhlcmUnKTsKICAgIHRoaXMuZ2V0VGFza3MoKTsKICB9Cn07"},{"version":3,"mappings":"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","names":["name","components","Footer","data","taskHours","taskMinutes","taskNum","isAddNum","isTaskInfo","chosenTaskId","taskPieces","methods","getTasks","console","response","tasks","localStorage","openChangeTask","taskId","getTaskPieces","id","tasksPieces","changeTask","index","task","num","deltaNum","newTask","title","timeStart","timeEnd","type","target","deleteTask","clearInterval","camebackTask","timeLeft","date","calcProgress","calcPercent","makeMinutesAndHoursStr","hours","minutes","findIndexTasks","beforeMount"],"sourceRoot":"src/components/tasks","sources":["ListTasks.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-for=\"(task) in this.$store.state.tasks\"\n         :key=\"task.id\"\n    >\n      <div @click=\"isTaskInfo=true\"\n           style=\"display: flex;justify-content: space-between;margin-top: 20px;padding:5px;\">\n        <div>\n          <div :style=\"task.deleted?'opacity: 0.5':''\"\n               style=\"font-size: 18px;text-transform: capitalize;display: flex;align-items: center;\">{{ task.title }}\n          </div>\n          <span :style=\"task.deleted?'opacity: 0.5':''\"\n                style=\"color: #555;font-size: 15px;display: block;padding-top: 10px\">{{\n              timeLeft(new Date(task.timeEnd * 1000))\n            }}\n          </span>\n\n        </div>\n        <div @click.stop>\n          <span v-if=\"task.deleted\" style=\"color: #555;font-size: 12px;padding-right: 10px\">{{\n              task.waitSeconds\n            }}с</span>\n          <!--          <v-btn v-if=\"!event.deleted\" @click=\"changeEvent(event.id)\" icon>✏️</v-btn>-->\n          <v-btn v-if=\"!task.deleted\" @click=\"openChangeTask(task.id)\" icon>✏️</v-btn>\n          <v-btn v-if=\"task.deleted\" @click=\"camebackTask(task.id)\" text small>вернуть ↩︎</v-btn>\n          <v-btn v-else @click=\"deleteTask(task.id)\" icon>🗑</v-btn>\n          <span v-if=\"!task.deleted\"\n                style=\"color: #555;font-size: 13px;display: block;text-align: right;padding-right: 5px\">\n              {{ calcProgress(task.id) }}\n\n          </span>\n        </div>\n      </div>\n      <div :style=\"{border: '2px solid green',opacity:'0.3'}\"\n      ></div>\n      <div\n          :style=\"{position:'relative',top:'-4px',border: '2px solid green',width:''+calcPercent(task)+'%',display:calcPercent(task)===0?'none':''}\"\n      ></div>\n    </div>\n\n    <template v-if=\"isAddNum\">\n      <div class=\"picker\" @click=\"isAddNum=false\">\n        <div class=\"picker__content\" @click.stop>\n          <slot>\n            <div style=\"background-color: white;padding: 20px;border-radius: 3px; width: 320px\">\n              <v-container grid-list-md text-xs-center>\n                <v-layout row wrap>\n                  <v-row>\n                    <div style=\"display: flex;justify-content: space-between;padding:5px;color: #777777;width: 100%\">\n                      <div>\n                        <div class=\"text-h5\" style=\"max-width: 200px;word-wrap: break-word;\">\n                          {{ $store.state.tasks[findIndexTasks(chosenTaskId)].title }}\n                        </div>\n\n                      </div>\n                      <div style=\"white-space: nowrap;\">\n                        {{ calcProgress(chosenTaskId) }}\n                      </div>\n                    </div>\n                    <template v-if=\"$store.state.tasks[findIndexTasks(chosenTaskId)].type==='time'\">\n                      <v-flex xs6>\n                        <v-text-field\n                            label=\"hours\"\n                            outlined\n                            v-model=\"taskHours\"\n                        ></v-text-field>\n                      </v-flex>\n                      <v-flex xs6>\n                        <v-text-field\n                            label=\"minutes\"\n                            outlined\n                            v-model=\"taskMinutes\"\n                        ></v-text-field>\n                      </v-flex>\n                    </template>\n                    <template v-else>\n                      <v-flex xs12>\n                        <v-text-field\n                            :label=\"$store.state.tasks[findIndexTasks(chosenTaskId)].type\"\n                            outlined\n                            v-model=\"taskNum\"\n                        ></v-text-field>\n                      </v-flex>\n                    </template>\n                    <v-btn class=\"mb-2\" width=\"290px\"\n                           @click=\"changeTask\"\n                           height=\"50px\"\n                           color=\"white\">add\n                    </v-btn>\n                  </v-row>\n                </v-layout>\n              </v-container>\n            </div>\n          </slot>\n        </div>\n      </div>\n    </template>\n\n\n    <template v-if=\"isTaskInfo\">\n      <div class=\"picker\" @click=\"isTaskInfo=false\">\n        <div class=\"picker__content\" @click.stop>\n          <slot>\n            <h1>Hello World</h1>\n          </slot>\n        </div>\n      </div>\n    </template>\n\n\n    <Footer>\n\n    </Footer>\n  </div>\n</template>\n\n<script>\nimport Footer from \"@/components/Footer\";\nimport moment from \"moment\";\n\nexport default {\n  name: \"ListTasks\",\n  components: {Footer},\n  data() {\n    return {\n      taskHours: 0,\n      taskMinutes: 0,\n      taskNum: 0,\n      isAddNum: false,\n      isTaskInfo: false,\n      chosenTaskId: -1,\n      taskPieces: [],\n    }\n  },\n  methods: {\n    async getTasks() {\n      console.log('hi there too')\n      let response = await this.$store.state.makeReq('api/getTasks', 'GET')\n\n      let tasks = await response.json()\n      console.log('tasls = ', tasks)\n      if (tasks === null) {\n        tasks = []\n      }\n\n      this.$store.state.tasks = tasks\n      console.log('resp = ', this.$store.state.tasks)\n      localStorage.setItem('tasks', JSON.stringify(this.$store.state.tasks))\n      console.log(this.$store.state.tasks)\n    },\n\n    openChangeTask(taskId) {\n      this.isAddNum = true\n      this.chosenTaskId = taskId\n      this.getTaskPieces()\n      console.log('hi')\n    },\n    async getTaskPieces(){\n      let response = await this.$store.state.makeReq(\"api/getTaskPieces\", \"POST\", JSON.stringify({id:this.chosenTaskId}))\n      let tasksPieces = await response.json()\n      console.log('tasls = ', tasksPieces)\n      if (tasksPieces === null) {\n        tasksPieces = []\n      }\n\n      this.taskPieces = tasksPieces\n      console.log(\"pieces = \", tasksPieces)\n\n    },\n    async changeTask() {\n      let index = this.findIndexTasks(this.chosenTaskId)\n      let task = this.$store.state.tasks[index]\n      let num = 0\n      let deltaNum = 0\n      console.log({task})\n      if (parseInt(this.taskNum) > 0 || parseInt(this.taskHours) >= 0 && parseInt(this.taskMinutes) >= 0) {\n        if (task.type === 'time') {\n          console.log(\"hi there\")\n          console.log('calc = ', parseInt(this.$store.state.tasks[index].num) + parseInt((parseInt(this.taskHours) * 60 + parseInt(this.taskMinutes)) * 60))\n          num = parseInt(this.$store.state.tasks[index].num) + parseInt((parseInt(this.taskHours) * 60 + parseInt(this.taskMinutes)) * 60)\n          deltaNum = parseInt((parseInt(this.taskHours) * 60 + parseInt(this.taskMinutes)) * 60)\n        } else {\n          num = parseInt(this.$store.state.tasks[index].num) + parseInt(this.taskNum)\n          deltaNum = parseInt(this.taskNum)\n        }\n        this.$store.state.tasks[index].num = num\n      }\n      localStorage.setItem('tasks', JSON.stringify(this.$store.state.tasks))\n      console.log(task)\n      let newTask = {\n        id: task.id,\n        title: task.title,\n        timeStart: task.timeStart,\n        timeEnd: task.timeEnd,\n        type: task.type,\n        target: task.target,\n        num: num,\n        deltaNum: deltaNum,\n      }\n      let response = await this.$store.state.makeReq('api/changeTask', 'PUT', JSON.stringify(newTask))\n      console.log(response)\n      this.isAddNum = false\n      this.taskHours = 0\n      this.taskMinutes = 0\n      this.taskNum = 0\n    },\n    deleteTask(id) {\n      let index = this.findIndexTasks(id)\n      let task = this.$store.state.tasks[index]\n\n      // console.log(\"index = \", index)\n      // console.log({event})\n\n      let waitSeconds = 3\n      task.waitSeconds = waitSeconds\n      let intervalId = setInterval(() => {\n        if (!task.deleted) {\n          clearInterval(intervalId)\n          localStorage.setItem('tasks', JSON.stringify(this.$store.state.tasks))\n          this.$forceUpdate()\n          return\n        }\n        if (--waitSeconds < 0) {\n          clearInterval(intervalId);\n          let index = this.findIndexTasks(id)\n          this.$store.state.makeReq(\"api/deleteTask\", \"DELETE\", JSON.stringify({id: id}))\n          this.$store.state.tasks.splice(index, 1)\n        } else {\n          task.waitSeconds = waitSeconds\n        }\n        this.$forceUpdate()\n      }, 1000);\n\n      // this.$store.state.events.splice(index, 1)\n\n      task.deleted = Date.now();\n      this.$forceUpdate();\n      localStorage.setItem('events', JSON.stringify(this.$store.state.events))\n    },\n    camebackTask(id) {\n      let index = this.findIndexTasks(id)\n      this.$store.state.tasks[index].deleted = 0\n      this.$forceUpdate();\n    },\n    timeLeft(date) {\n      // console.log(date)\n      // let arr = moment(date).fromNow().split(' ')\n      // console.log(arr)\n      // arr.splice(0,1)\n      // console.log(arr)\n      // return \"осталось \"+arr.join(\" \")\n      return moment(date).fromNow()\n    },\n    calcProgress(taskId) {\n      let task = this.$store.state.tasks[this.findIndexTasks(taskId)]\n      if (task.type === 'time') {\n        return this.makeMinutesAndHoursStr(parseInt(parseInt(task.num) / 3600), parseInt(task.num) % 3600 / 60) + \" / \" + this.makeMinutesAndHoursStr(parseInt(parseInt(task.target) / 3600), parseInt(task.target) % 3600 / 60)\n      } else {\n        return task.num + ' / ' + task.target\n      }\n    },\n    calcPercent(task) {\n      let num = 0\n      if (task.num !== undefined) {\n        num = task.num\n      }\n      // console.log('percentege = ', num/task.target*100)\n      return num / task.target * 100 > 100 ? 100 : num / task.target * 100\n    },\n    makeMinutesAndHoursStr(hours, minutes) {\n      hours = hours.toString().length === 1 ? '0' + hours : hours\n      minutes = minutes.toString().length === 1 ? '0' + minutes : minutes\n      return hours + ':' + minutes\n    },\n    findIndexTasks(id) {\n      for (let i = 0; i < this.$store.state.tasks.length; i++) {\n        if (this.$store.state.tasks[i].id === id) {\n          return i\n        }\n      }\n      return -1\n    },\n  },\n  beforeMount() {\n    console.log('hi there')\n    this.getTasks()\n  }\n}\n</script>\n\n<style scoped>\n.picker {\n  color: white;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  z-index: 100;\n  overflow: auto;\n  display: flex;\n  padding-top: 80px;\n}\n\n.picker__content {\n  /*overflow-y: scroll;*/\n  display: block;\n  width: 290px;\n  margin: auto;\n\n\n  min-height: 100%;\n  justify-content: space-between;\n  z-index: 200;\n}\n</style>"]}]}