{"remainingRequest":"/Users/mac/go/src/L2/task_11/static/node_modules/babel-loader/lib/index.js!/Users/mac/go/src/L2/task_11/static/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mac/go/src/L2/task_11/static/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/go/src/L2/task_11/static/src/components/login/SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/go/src/L2/task_11/static/src/components/login/SignUp.vue","mtime":1660579408338},{"path":"/Users/mac/go/src/L2/task_11/static/babel.config.js","mtime":1653650336335},{"path":"/Users/mac/go/src/L2/task_11/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/L2/task_11/static/node_modules/babel-loader/lib/index.js","mtime":1656160197672},{"path":"/Users/mac/go/src/L2/task_11/static/node_modules/cache-loader/dist/cjs.js","mtime":1656160197065},{"path":"/Users/mac/go/src/L2/task_11/static/node_modules/vue-loader/lib/index.js","mtime":1656160198005}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL21hYy9nby9zcmMvTDIvdGFza18xMS9zdGF0aWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbWFjL2dvL3NyYy9MMi90YXNrXzExL3N0YXRpYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZG90LWFsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5zdGlja3kuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENvZGUgZnJvbSAiQC9jb21wb25lbnRzL2xvZ2luL0NvZGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNpZ25VcCIsCiAgY29tcG9uZW50czogewogICAgQ29kZTogQ29kZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBzaG93OiBmYWxzZSwKICAgICAgcGFnZTogJ3NpZ25VcCcsCiAgICAgIGVycm93TWVzOiAiIiwKICAgICAgbG9naW46ICcnLAogICAgICBlbWFpbDogJycsCiAgICAgIGNvZGU6ICcnLAogICAgICBsb2dpblJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICdMb2dpbiBpcyByZXF1aXJlZCc7CiAgICAgIH0sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYgJiYgdi5sZW5ndGggPD0gNiB8fCAnTG9naW4gbXVzdCBiZSBsZXNzIHRoYW4gNCBjaGFyYWN0ZXJzJzsKICAgICAgfV0sCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgcGFzc3dvcmRSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2ICYmIHYubGVuZ3RoIDw9IDEwIHx8ICdQYXNzd29yZCBtdXN0IGJlIGxlc3MgdGhhbiAxMCBjaGFyYWN0ZXJzJzsKICAgICAgfV0sCiAgICAgIGNvZGVSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAnY29kZSBpcyByZXF1aXJlZCc7CiAgICAgIH0sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYgJiYgdi5sZW5ndGggPT09IDQgfHwgJ2NvZGUgbXVzdCBiZSA0IGNoYXJhY3RlcnMnOwogICAgICB9XSwKICAgICAgZW1haWxSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAnRS1tYWlsIGlzIHJlcXVpcmVkJzsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gLy4rQC4rXC4uKy8udGVzdCh2KSB8fCAnRS1tYWlsIG11c3QgYmUgdmFsaWQnOwogICAgICB9XQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZVBhZ2U6IGZ1bmN0aW9uIGNoYW5nZVBhZ2UocGFnZSkgewogICAgICBjb25zb2xlLmxvZygnY2hlbmdlIHBhZ2UgPSAnLCBwYWdlKTsKICAgICAgdGhpcy5wYWdlID0gcGFnZTsKICAgIH0sCiAgICBtYXJnaW5Ub3A6IGZ1bmN0aW9uIG1hcmdpblRvcCgpIHsKICAgICAgdmFyIGRldmljZXMgPSBuZXcgUmVnRXhwKCdBbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxCQnxQbGF5Qm9va3xJRU1vYmlsZXxXaW5kb3dzIFBob25lfEtpbmRsZXxTaWxrfE9wZXJhIE1pbmknLCAiaSIpOwoKICAgICAgaWYgKGRldmljZXMudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgewogICAgICAgIHJldHVybiAnMTAwcHgnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnNDBweCc7CiAgICAgIH0KICAgIH0sCiAgICBzaWduVXA6IGZ1bmN0aW9uIHNpZ25VcCgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCk7CiAgICAgIHRoaXMuc2lnblVwUmVxKHsKICAgICAgICBlbWFpbDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5lbWFpbCwKICAgICAgICBsb2dpbjogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5sb2dpbiwKICAgICAgICBwYXNzd29yZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5wYXNzd29yZAogICAgICB9KTsKICAgICAgdGhpcy5wYWdlID0gJ2NvZGUnOwogICAgfSwKICAgIHNpZ25VcFJlcTogZnVuY3Rpb24gc2lnblVwUmVxKHVzZXIpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtYWtlIHJlcXVlc3QgOicsIHVzZXIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJy9hcGkvc2lnblVwJywgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlcikKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgIC8vINC10YHQu9C4IEhUVFAt0YHRgtCw0YLRg9GBINCyINC00LjQsNC/0LDQt9C+0L3QtSAyMDAtMjk5CiAgICAgICAgICAgICAgICAgIC8vINC/0L7Qu9GD0YfQsNC10Lwg0YLQtdC70L4g0L7RgtCy0LXRgtCwICjRgdC8LiDQv9GA0L4g0Y3RgtC+0YIg0LzQtdGC0L7QtCDQvdC40LbQtSkKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInJlc3BvbnNlID0gIiwgcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygib2tra2siKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQyNSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm93TWVzID0gJ2Vycm9yRW1haWwnOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI2KSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3dNZXMgPSAnZXJyb3JMb2dpbic7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJub3Qgb2siKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AAGA;EACAA,cADA;EAEAC;IAAAC;EAAA,CAFA;EAGAC;IAAA;MACAC,WADA;MAEAC,WAFA;MAGAC,cAHA;MAIAC,YAJA;MAKAC,SALA;MAMAC,SANA;MAOAC,QAPA;MAQAC,aACA;QAAA;MAAA,CADA,EAEA;QAAA;MAAA,CAFA,CARA;MAYAC,YAZA;MAaAC,gBACA;QAAA;MAAA,CADA,EAEA;QAAA;MAAA,CAFA,CAbA;MAiBAC,YACA;QAAA;MAAA,CADA,EAEA;QAAA;MAAA,CAFA,CAjBA;MAqBAC,aACA;QAAA;MAAA,CADA,EAEA;QAAA;MAAA,CAFA;IArBA;EAAA,CAHA;EA8BAC;IACAC,UADA,sBACAX,IADA,EACA;MACAY;MACA;IACA,CAJA;IAKAC,SALA,uBAKA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAZA;IAaAC,MAbA,oBAaA;MACA;MACA;QACAX,mCADA;QAEAD,mCAFA;QAGAI;MAHA;MAKA;IAEA,CAtBA;IAuBAS,SAvBA,qBAuBAC,IAvBA,EAuBA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAJ;gBADA;gBAAA,OAEAK;kBACAC,cADA;kBAEAC;gBAFA,EAFA;;cAAA;gBAEAC,QAFA;;gBAOA;kBAAA;kBACA;kBACAR;kBACAA;gBACA,CAJA,MAIA;kBACA;oBACA;kBACA,CAFA,MAEA;oBACA;kBACA;;kBACAA;gBACA;;cAlBA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAmBA;EA1CA;AA9BA","names":["name","components","Code","data","valid","show","page","errowMes","login","email","code","loginRules","password","passwordRules","codeRules","emailRules","methods","changePage","console","marginTop","signUp","signUpReq","user","fetch","method","body","response"],"sourceRoot":"src/components/login","sources":["SignUp.vue"],"sourcesContent":["<template>\n  <div>\n    <v-form v-if=\"page==='signUp'\"\n            class=\"form\"\n            :style=\"'margin-top:'+marginTop()\"\n            ref=\"form\"\n            v-model=\"valid\"\n            lazy-validation\n    >\n      <v-text-field\n          size=\"30px\"\n          v-model=\"$store.state.user.email\"\n          :rules=\"emailRules\"\n          @input=\"errowMes=''\"\n          label=\"E-mail\"\n          required\n          solo\n      ></v-text-field>\n\n      <v-text-field\n          size=\"30px\"\n          v-model=\"$store.state.user.login\"\n          :rules=\"loginRules\"\n          @input=\"errowMes=''\"\n          label=\"Login\"\n          required\n          solo\n      ></v-text-field>\n\n      <v-text-field\n          v-model=\"$store.state.user.password\"\n          :rules=\"passwordRules\"\n          label=\"Password\"\n          :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\n          :type=\"show ? 'text' : 'password'\"\n          @click:append=\"show = !show\"\n          solo\n      ></v-text-field>\n\n\n      <v-btn\n          style=\"height: 40px;\"\n          class=\"my-2\"\n          color=\"primary\"\n          @click=\"signUp\"\n          :disabled=\"!valid\"\n      >\n        Sign up\n      </v-btn>\n    </v-form>\n\n    <Code @changePage=\"changePage\" v-if=\"page==='code'\"/>\n\n    <v-form v-if=\"errowMes==='errorLogin'\">\n      <div class=\"text-h6\" style=\"color: limegreen\">This login is already exist</div>\n    </v-form>\n    <v-form v-if=\"errowMes==='errorEmail'\">\n      <div class=\"text-h6\" style=\"color: red\">This Email is already exist</div>\n    </v-form>\n  </div>\n</template>\n\n<script>\nimport Code from \"@/components/login/Code\";\n\n\nexport default {\n  name: \"signUp\",\n  components: {Code},\n  data: () => ({\n    valid: true,\n    show: false,\n    page: 'signUp',\n    errowMes:\"\",\n    login: '',\n    email: '',\n    code: '',\n    loginRules: [\n      v => !!v || 'Login is required',\n      v => (v && v.length <= 6) || 'Login must be less than 4 characters',\n    ],\n    password: '',\n    passwordRules: [\n      v => !!v || 'Password is required',\n      v => (v && v.length <= 10) || 'Password must be less than 10 characters',\n    ],\n    codeRules: [\n      v => !!v || 'code is required',\n      v => (v && v.length === 4) || 'code must be 4 characters',\n    ],\n    emailRules: [\n      v => !!v || 'E-mail is required',\n      v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\n    ],\n\n  }),\n  methods: {\n    changePage(page) {\n      console.log('chenge page = ', page)\n      this.page = page\n    },\n    marginTop() {\n      const devices = new RegExp('Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini', \"i\");\n      if (devices.test(navigator.userAgent)) {\n        return '100px'\n      } else {\n        return '40px'\n      }\n    },\n    signUp() {\n      this.$refs.form.validate()\n      this.signUpReq({\n        email: this.$store.state.user.email,\n        login: this.$store.state.user.login,\n        password: this.$store.state.user.password\n      })\n      this.page = 'code'\n\n    },\n    async signUpReq(user) {\n      console.log('make request :', user)\n      let response = await fetch('/api/signUp', {\n        method: 'POST',\n        body: JSON.stringify(user)\n      });\n\n      if (response.ok) { // если HTTP-статус в диапазоне 200-299\n        // получаем тело ответа (см. про этот метод ниже)\n        console.log(\"response = \", response)\n        console.log(\"okkkk\")\n      } else {\n        if (response.status === 425) {\n          this.errowMes = 'errorEmail'\n        }else if(response.status === 426){\n          this.errowMes = 'errorLogin'\n        }\n        console.log(\"not ok\")\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}